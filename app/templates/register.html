{% extends "base.html" %}

{% block title %}Inscription{% endblock %}

{% block content %}
<div class="fade-in">
    <div class="card" style="max-width: 400px; margin: 0 auto;">
        <div class="card-header">
            <h1 class="card-title">
                <i class="fas fa-user-plus"></i> Inscription
            </h1>
        </div>
        
        <form method="POST" action="{{ url_for('register') }}" data-validate>
            <div class="form-group">
                <label for="username" class="form-label">Nom d'utilisateur</label>
                <input 
                    type="text" 
                    id="username" 
                    name="username" 
                    class="form-input" 
                    placeholder="Choisissez un nom d'utilisateur"
                    required
                    autocomplete="username"
                    minlength="3"
                    maxlength="20"
                >
            </div>
            
            <div class="form-group">
                <label for="email" class="form-label">Adresse email</label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    class="form-input" 
                    placeholder="votre@email.com"
                    required
                    autocomplete="email"
                >
            </div>
            
            <div class="form-group">
                <label for="password" class="form-label">Mot de passe</label>
                <input 
                    type="password" 
                    id="password" 
                    name="password" 
                    class="form-input" 
                    placeholder="Choisissez un mot de passe"
                    required
                    autocomplete="new-password"
                    minlength="6"
                >
            </div>
            
            <div class="form-group">
                <label for="confirm_password" class="form-label">Confirmer le mot de passe</label>
                <input 
                    type="password" 
                    id="confirm_password" 
                    name="confirm_password" 
                    class="form-input" 
                    placeholder="Confirmez votre mot de passe"
                    required
                    autocomplete="new-password"
                >
            </div>
            
            <button type="submit" class="btn" style="width: 100%;">
                <i class="fas fa-user-plus"></i> S'inscrire
            </button>
        </form>
        
        <div class="text-center mt-3">
            <p class="text-secondary">
                Déjà un compte ? 
                <a href="{{ url_for('login') }}" class="text-primary">
                    <i class="fas fa-sign-in-alt"></i> Se connecter
                </a>
            </p>
        </div>
    </div>
    
    <!-- Informations sur l'inscription -->
    <div class="card" style="max-width: 400px; margin: 2rem auto 0;">
        <div class="card-header">
            <h2 class="card-title">
                <i class="fas fa-shield-alt"></i> Sécurité
            </h2>
        </div>
        <ul class="text-secondary">
            <li>Votre mot de passe doit contenir au moins 6 caractères</li>
            <li>Votre nom d'utilisateur doit contenir entre 3 et 20 caractères</li>
            <li>Votre email sera utilisé pour la récupération de compte</li>
            <li>Vos données sont protégées et ne seront jamais partagées</li>
        </ul>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Validation du mot de passe de confirmation
document.addEventListener('DOMContentLoaded', function() {
    const password = document.getElementById('password');
    const confirmPassword = document.getElementById('confirm_password');
    
    function validatePassword() {
        if (password.value !== confirmPassword.value) {
            confirmPassword.setCustomValidity('Les mots de passe ne correspondent pas');
        } else {
            confirmPassword.setCustomValidity('');
        }
    }
    
    password.addEventListener('change', validatePassword);
    confirmPassword.addEventListener('keyup', validatePassword);
});
</script>
{% endblock %}
